export class Book {
    constructor(name, genre, price, reviews, author) {
        var _a, _b;
        this.name = name;
        this.genre = genre;
        this.price = price;
        this.author = author;
        if ((reviews === null || reviews === void 0 ? void 0 : reviews.length) > 0) {
            const reviewSum = (_a = this.reviews) === null || _a === void 0 ? void 0 : _a.reduce((acc, cur) => acc + cur[1], 0);
            this.rating = reviewSum / ((_b = this.reviews) === null || _b === void 0 ? void 0 : _b.length);
        }
        else {
            this.rating = null;
        }
    }
    getProductDescription() {
        return `Book "${this.name}" by ${this.author.firstName} ${this.author.lastName}`;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm9vay5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9ib29rLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE1BQU0sT0FBTyxJQUFJO0lBV2YsWUFDRSxJQUFZLEVBQ1osS0FBWSxFQUNaLEtBQWEsRUFDYixPQUFtQixFQUNuQixNQUFnQjs7UUFFaEIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFFckIsSUFBSSxDQUFBLE9BQU8sYUFBUCxPQUFPLHVCQUFQLE9BQU8sQ0FBRSxNQUFNLElBQUcsQ0FBQyxFQUFFO1lBQ3ZCLE1BQU0sU0FBUyxHQUFHLE1BQUEsSUFBSSxDQUFDLE9BQU8sMENBQUUsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUN0RSxJQUFJLENBQUMsTUFBTSxHQUFHLFNBQVMsSUFBRyxNQUFBLElBQUksQ0FBQyxPQUFPLDBDQUFFLE1BQU0sQ0FBQSxDQUFDO1NBQ2hEO2FBQU07WUFDTCxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztTQUNwQjtJQUNILENBQUM7SUF0QkQscUJBQXFCO1FBQ25CLE9BQU8sU0FBUyxJQUFJLENBQUMsSUFBSSxRQUFRLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLENBQUE7SUFDbEYsQ0FBQztDQXFCRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7R2VucmUsIElBdXRob3IsIElCb29rLCBJUHJvZHVjdCwgSVJhdGluZ2FibGUsIFRSZXZpZXd9IGZyb20gJy4vbW9kZWxzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBCb29rIGltcGxlbWVudHMgSUJvb2ssIElSYXRpbmdhYmxlLCBJUHJvZHVjdCB7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIGdlbnJlOiBHZW5yZTtcclxuICBwcmljZTogbnVtYmVyO1xyXG4gIHJldmlld3M/OiBUUmV2aWV3W107XHJcbiAgYXV0aG9yPzogSUF1dGhvcjtcclxuICByYXRpbmc6IG51bWJlcjtcclxuICBnZXRQcm9kdWN0RGVzY3JpcHRpb24oKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBgQm9vayBcIiR7dGhpcy5uYW1lfVwiIGJ5ICR7dGhpcy5hdXRob3IuZmlyc3ROYW1lfSAke3RoaXMuYXV0aG9yLmxhc3ROYW1lfWBcclxuICB9XHJcbiAgXHJcbiAgY29uc3RydWN0b3IgKFxyXG4gICAgbmFtZTogc3RyaW5nLFxyXG4gICAgZ2VucmU6IEdlbnJlLFxyXG4gICAgcHJpY2U6IG51bWJlcixcclxuICAgIHJldmlld3M/OiBUUmV2aWV3W10sXHJcbiAgICBhdXRob3I/OiBJQXV0aG9yLFxyXG4gICkge1xyXG4gICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgIHRoaXMuZ2VucmUgPSBnZW5yZTtcclxuICAgIHRoaXMucHJpY2UgPSBwcmljZTtcclxuICAgIHRoaXMuYXV0aG9yID0gYXV0aG9yO1xyXG5cclxuICAgIGlmIChyZXZpZXdzPy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IHJldmlld1N1bSA9IHRoaXMucmV2aWV3cz8ucmVkdWNlKChhY2MsIGN1cikgPT4gYWNjICsgY3VyWzFdLCAwKTtcclxuICAgICAgdGhpcy5yYXRpbmcgPSByZXZpZXdTdW0gLyB0aGlzLnJldmlld3M/Lmxlbmd0aDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucmF0aW5nID0gbnVsbDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19