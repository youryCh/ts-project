export class Book {
    constructor(name, genre, price, author, reviews) {
        var _a, _b;
        this.name = name;
        this.genre = genre;
        this.price = price;
        this.author = author;
        if ((reviews === null || reviews === void 0 ? void 0 : reviews.length) > 0) {
            const reviewSum = (_a = this.reviews) === null || _a === void 0 ? void 0 : _a.reduce((acc, cur) => acc + cur[1], 0);
            this.rating = reviewSum / ((_b = this.reviews) === null || _b === void 0 ? void 0 : _b.length);
        }
        else {
            this.rating = null;
        }
    }
    getProductDescription() {
        return `Book "${this.name}" by ${this.author.firstName} ${this.author.lastName}`;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm9vay5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9ib29rLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVVBLE1BQU0sT0FBTyxJQUFJO0lBV2YsWUFDRSxJQUFZLEVBQ1osS0FBWSxFQUNaLEtBQWEsRUFDYixNQUFrQixFQUNsQixPQUFtQjs7UUFFbkIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFFckIsSUFBSSxDQUFBLE9BQU8sYUFBUCxPQUFPLHVCQUFQLE9BQU8sQ0FBRSxNQUFNLElBQUcsQ0FBQyxFQUFFO1lBQ3ZCLE1BQU0sU0FBUyxHQUFHLE1BQUEsSUFBSSxDQUFDLE9BQU8sMENBQUUsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUN0RSxJQUFJLENBQUMsTUFBTSxHQUFHLFNBQVMsSUFBRyxNQUFBLElBQUksQ0FBQyxPQUFPLDBDQUFFLE1BQU0sQ0FBQSxDQUFDO1NBQ2hEO2FBQU07WUFDTCxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztTQUNwQjtJQUNILENBQUM7SUF0QkQscUJBQXFCO1FBQ25CLE9BQU8sU0FBUyxJQUFJLENBQUMsSUFBSSxRQUFRLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLENBQUE7SUFDbEYsQ0FBQztDQXFCRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgQm9va0F1dGhvcixcclxuICBHZW5yZSxcclxuICBJQXV0aG9yLFxyXG4gIElCb29rLFxyXG4gIElQcm9kdWN0LFxyXG4gIElSYXRpbmdhYmxlLFxyXG4gIFRSZXZpZXdcclxufSBmcm9tICcuL21vZGVscyc7XHJcblxyXG5leHBvcnQgY2xhc3MgQm9vayBpbXBsZW1lbnRzIElCb29rLCBJUmF0aW5nYWJsZSwgSVByb2R1Y3Qge1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBnZW5yZTogR2VucmU7XHJcbiAgcHJpY2U6IG51bWJlcjtcclxuICByZXZpZXdzPzogVFJldmlld1tdO1xyXG4gIGF1dGhvcjogQm9va0F1dGhvcjtcclxuICByYXRpbmc6IG51bWJlcjtcclxuICBnZXRQcm9kdWN0RGVzY3JpcHRpb24oKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBgQm9vayBcIiR7dGhpcy5uYW1lfVwiIGJ5ICR7dGhpcy5hdXRob3IuZmlyc3ROYW1lfSAke3RoaXMuYXV0aG9yLmxhc3ROYW1lfWBcclxuICB9XHJcbiAgXHJcbiAgY29uc3RydWN0b3IgKFxyXG4gICAgbmFtZTogc3RyaW5nLFxyXG4gICAgZ2VucmU6IEdlbnJlLFxyXG4gICAgcHJpY2U6IG51bWJlcixcclxuICAgIGF1dGhvcjogQm9va0F1dGhvcixcclxuICAgIHJldmlld3M/OiBUUmV2aWV3W10sXHJcbiAgKSB7XHJcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5nZW5yZSA9IGdlbnJlO1xyXG4gICAgdGhpcy5wcmljZSA9IHByaWNlO1xyXG4gICAgdGhpcy5hdXRob3IgPSBhdXRob3I7XHJcblxyXG4gICAgaWYgKHJldmlld3M/Lmxlbmd0aCA+IDApIHtcclxuICAgICAgY29uc3QgcmV2aWV3U3VtID0gdGhpcy5yZXZpZXdzPy5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgKyBjdXJbMV0sIDApO1xyXG4gICAgICB0aGlzLnJhdGluZyA9IHJldmlld1N1bSAvIHRoaXMucmV2aWV3cz8ubGVuZ3RoO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5yYXRpbmcgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0=